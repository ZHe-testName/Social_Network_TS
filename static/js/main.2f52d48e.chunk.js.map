{"version":3,"sources":["components/dialogs/conversation/conversation.module.css","components/preloader/preloader.module.css","components/profile/my-posts/new-post/newpost.module.css","components/profile/profile.module.css","components/profile/my-posts/post/post.module.css","redux/reducers/dialogs-reducer.tsx","components/avatar/Avatar.tsx","components/avatar/index.tsx","components/dialogs/conversation/message/Message.tsx","components/dialogs/conversation/message/index.tsx","components/dialogs/conversation/Conversation.tsx","components/dialogs/conversation/index.tsx","components/custom-nav-link/CustomNavLink.tsx","components/custom-nav-link/index.tsx","components/dialogs/dalogs_nav/DialogsNav.tsx","components/dialogs/dalogs_nav/index.tsx","utils/validators.tsx","custom_form_controls/textarea/Textarea.tsx","components/dialogs/send_message_form/SendMessageReduxForm.tsx","components/dialogs/Dialogs.tsx","hoc/withAuthedirect.tsx","components/dialogs/DialogsContainer.tsx","components/musik/Music.tsx","components/musik/index.tsx","components/navbar/friends_nav/FriendsNav.tsx","components/navbar/friends_nav/index.tsx","components/navbar/Navbar.tsx","components/navbar/index.tsx","components/settings/Settings.tsx","components/settings/index.tsx","components/news/News.tsx","components/news/index.tsx","api/dal.tsx","redux/reducers/users-reducer.tsx","imgs/images.png","components/users/Users.tsx","imgs/Triangles-1.4s-200px.svg","components/preloader/Preloader.tsx","redux/selectors/usersSelectors.ts","components/users/UsersContainer.tsx","redux/reducers/profile-reducer.tsx","components/profile/my-posts/post/Post.tsx","components/profile/my-posts/post/index.tsx","components/profile/my-posts/new-post/NewPost.tsx","components/profile/my-posts/MyPosts.tsx","components/profile/my-posts/MyPostsContainer.tsx","components/profile/profile-status/ProfileStatusFunctional.tsx","components/profile/Profile.tsx","components/profile/ProfileContainer.tsx","components/header/Header.tsx","redux/reducers/auth-reducer.tsx","components/header/HeaderComponent.tsx","components/login/login-form/LoginForm.tsx","components/login/Login.tsx","redux/reducers/app-reducer.tsx","App.tsx","redux/reducers/navbar-reducer.tsx","redux/redux-store.tsx","reportWebVitals.ts","index.tsx","components/users/users.module.css","components/dialogs/send_message_form/send_message_form.module.css","components/dialogs/dialogs.module.css","components/dialogs/dalogs_nav/dialogs_nav.module.css","components/dialogs/conversation/message/message.module.css","components/navbar/friends_nav/friends_nav.module.css","components/profile/my-posts/myposts.module.css","components/header/header.module.css","components/avatar/avatar.module.css","custom_form_controls/textarea/textarea.module.css","components/navbar/navbar.module.css","components/login/login-form/login_form.module.css"],"names":["module","exports","SEND_MESSAGE","initialState","users","href","description","online","selected","avaUrl","messages","id","v1","messageTxt","isUser","Avatar","props","settings","className","imgUrl","classes","avatar","style","backgroundImage","Message","message_user_wrap","message_guest_wrap","messaage_avatar","message_txt","Conversation","messagesForRender","map","message","conversation_wrap","CustomNavLink","to","DialogsNav","indicatorJsx","status_indicator","indicator_lamp","indicator_text","usersArr","user","each_user_li","users_list","required","value","maxLengthCreator","maxLengthValue","length","Textarea","meta","input","restProps","hasError","touched","error","textareaWrap","wrapclassname","maxLength10","SendMessageReduxForm","reduxForm","form","onSubmit","handleSubmit","new_message_panel","Field","messageFieald","name","component","rows","nameoffield","placeholder","validate","send_button_gag","send_message_button","onClick","e","currentTarget","classList","add","send_message_button_on_click","onBlur","remove","Dialogs","sendMessageHandler","dialogs_wrap","dialogs_header","dialogs_nav","dialogs_conversation_outside_box","dialogs_conversation","formData","console","log","sendMessageField","MapStateToPropsForRedirect","state","isAuth","auth","withAuthReadirect","Component","connect","DialogsContainer","compose","dialogsPage","dispatch","text","type","Music","FriendsNav","cardsArr","friendsArr","card","linkContent","friend_avatar","friend_avatar_box","friends_block","all_friends_link","Navbar","useSelector","navBar","links","linksArr","linkSettings","main_nav_bar","ul_nav_bar","Settings","News","instance","axios","create","withCredentials","headers","baseURL","usersAPI","currentPage","pageSize","get","then","responce","data","followed","userId","delete","resultCode","post","profileAPI","newStatus","put","status","photoURL","image","authAPI","loginData","CHANGE_FOLLOW_STATUS","SET_USERS","CHANGE_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOOGLE_FOLLOWING_PROGRES","totalUsersCount","isFetching","followingIdArr","setUsers","changePage","currenPage","setTotalUsersCount","toggleLoader","isFollowingTriger","UsersComponent","pages","i","push","usersBlock","paginationBlock","page","puginationNumStyle","changePageHandler","userWrap","src","photos","small","userPhoto","alt","disabled","some","unfollowBtnStyle","followBtnStyle","followSwitchingThunkCreator","Users","React","memo","Preloader","preloader","usersSelectors","getUsersSelector","createSelector","usersPage","filter","u","getPageSizeSelector","getTotalCountUsersSelector","getGetCurrentPageSelector","getIsFetchingSelector","getFollowingIdSelector","getIsAuthSelector","UsersRequestContainer","pageNumber","changePageThunkCreator","this","getUsersThunkCreator","UsersContainer","items","totalCount","followSwitch","ADD_POST","SET_USER_PROFILE","SET_STATUS","INCPEMENT_POST_LIKE","INCPEMENT_POST_DISLIKE","posts","likes","dislikes","setStatusAC","Post","post_img","text_area","post_text","counter","text_area_input","like","htmlFor","dislike","NewPostReduxForm","new_post","cols","MyPosts","addNewPostHandler","postsArr","myposts","header","addPostField","posts_block","MyPostsContainer","profilePage","ProfileStatusFunctional","titleStatus","updateStatus","useState","isEditMode","setEditMode","changeStatus","useEffect","defaultValue","autoFocus","onKeyPress","code","offEditModeWithEnter","onChange","target","onDoubleClick","Profile","img","useRef","profile","banner","ref","dir","current","account","large","username","fullName","extraInfo","lookingForAJob","contactsList","Object","entries","contacts","el","linkstyle","ProfileRequestContainer","match","params","getProfileThunkCreator","updateStatusThunkCreator","putPhoto","putProfilePhotoThunkCreator","ProfileContainer","userProfile","getStatusThunkCreator","resCode","withRouter","Header","loginBlock","logout","marginRight","login","SET_USER_DATA","SWITCH_IS_LOADING","email","isLoading","setUserAuthDataActionCreator","switchIsLoadingActionCreator","getUserAuthDataThunkCreator","HeaderResponceContainer","logoutThunkCreator","HeaderContainer","LoginReduxForm","formWrap","autoComplete","errorMessage","ActionsType","Login","loginThunkCreator","userData","stopSubmit","_error","initialized","App","initializeAppTC","path","render","app","promise","Promise","all","iniinitialize","SET_INITIALIZED","payload","rootReducer","combineReducers","action","newPost","trim","postId","messageObj","formReducer","store","createStore","applyMiddleware","thunk","window","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2f52d48e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"conversation_wrap\":\"conversation_conversation_wrap__3Wh9R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"preloader_preloader__dNXtN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"new_post\":\"newpost_new_post__3KFR6\",\"hover_arrow\":\"newpost_hover_arrow__2Il3L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"profile_profile__OuRU7\",\"banner\":\"profile_banner__wlXiO\",\"account\":\"profile_account__XCKVH\",\"avatar\":\"profile_avatar__IxMVc\",\"description\":\"profile_description__2tLa8\",\"username\":\"profile_username__3FH8B\",\"extraInfo\":\"profile_extraInfo__1Tupx\",\"contactsList\":\"profile_contactsList__1Txle\",\"linkstyle\":\"profile_linkstyle__2CiIC\",\"disabled\":\"profile_disabled__1S7iu\",\"shaker\":\"profile_shaker__1ZlVo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"post_post__2gU_M\",\"post_img\":\"post_post_img__3uN08\",\"text_area\":\"post_text_area__3rJXA\",\"post_text\":\"post_post_text__3SgkV\",\"text_area_input\":\"post_text_area_input__26fM7\",\"counter\":\"post_counter__g7WFT\",\"like\":\"post_like__3G1e-\",\"dislike\":\"post_dislike__1B_NR\",\"like_dislike_anim\":\"post_like_dislike_anim__2QCEk\"};","import {v1} from 'uuid';\r\nimport { DispatchActionPropsType } from '../../App';\r\n\r\nexport type DialogsUserType = {\r\n  href: string, \r\n  description: string, \r\n  online: boolean, \r\n  selected: boolean,\r\n  avaUrl: string,\r\n};\r\n\r\nexport type DialogsMessageType = {\r\n  id: string,\r\n  messageTxt: string, \r\n  isUser: boolean,\r\n  avaUrl: string,\r\n};\r\n\r\nexport type InitialStateType = typeof initialState;\r\n\r\nconst SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nconst initialState =  {\r\n  users: [\r\n    {\r\n      href: '/dialogs/vasya', \r\n      description: 'Vasya', \r\n      online: true, \r\n      selected: false,\r\n      avaUrl: 'http://s020.radikal.ru/i706/1501/36/75ac2f1e2bca.jpg',\r\n    },\r\n    {\r\n      href: '/dialogs/masha', \r\n      description: 'Masha', \r\n      online: true,\r\n      selected: false,\r\n      avaUrl: 'http://avatar-lotos.at.ua/_si/0/90042470.jpg',\r\n    },\r\n    {\r\n      href: '/dialogs/vietal', \r\n      description: 'Vietal', \r\n      online: false,\r\n      selected: false,\r\n      avaUrl: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSIzgUvXLnRImezj5_MMmqHF3aJHbp4vq86Yw&usqp=CAU',\r\n    },\r\n    {\r\n      href: '/dialogs/somya', \r\n      description: 'Sonya', \r\n      online: false,\r\n      selected: false,\r\n      avaUrl: 'https://www.meme-arsenal.com/memes/cc345be87cc4ebce0eac0f9d662358db.jpg',\r\n    },\r\n    {\r\n      href: '/dialogs/lena', \r\n      description: 'Lena', \r\n      online: true,\r\n      selected: true,\r\n      avaUrl: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTPeoq1yV8_WeZRPOy6tvqvBdbl6SAOgNXeWA&usqp=CAU',\r\n      // messageArr: [\r\n      //   {message: 'Hello!fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff', isUser: true},\r\n      //   {message: 'Yoy!)!', isUser: true},\r\n      //   {message: 'You are here!)', isUser: true},\r\n      //   {message: 'Hey!', isUser: false},\r\n      //   {message: 'Yes, WTF?', isUser: false},\r\n      // ],\r\n    },\r\n  ] as Array<DialogsUserType>,\r\n\r\n  messages: [\r\n    {  \r\n      id: v1(),\r\n      messageTxt: 'Hello!)', \r\n      isUser: true,\r\n      avaUrl: 'https://slovnet.ru/wp-content/uploads/2019/01/1-17.jpg',\r\n    },\r\n    {  \r\n      id: v1(),\r\n      messageTxt: 'Yo!)', \r\n      isUser: true, \r\n      avaUrl: 'https://slovnet.ru/wp-content/uploads/2019/01/1-17.jpg',\r\n    },\r\n    {  \r\n      id: v1(),\r\n      messageTxt: 'You are here!)',\r\n      isUser: true, \r\n      avaUrl: 'https://slovnet.ru/wp-content/uploads/2019/01/1-17.jpg',\r\n    },\r\n    {  \r\n      id: v1(),\r\n      messageTxt: 'Hey, yes WTF?',\r\n      isUser: false, \r\n      avaUrl: 'https://www.meme-arsenal.com/memes/cc345be87cc4ebce0eac0f9d662358db.jpg',\r\n    },\r\n    { \r\n      id: v1(), \r\n      messageTxt: 'I wona ask you about some little things of our feature trip... ', \r\n      isUser: true, \r\n      avaUrl: 'https://slovnet.ru/wp-content/uploads/2019/01/1-17.jpg',\r\n    },\r\n    {  \r\n      id: v1(),\r\n      messageTxt: 'When? Where? How Much?)',\r\n      isUser: true, \r\n      avaUrl: 'https://slovnet.ru/wp-content/uploads/2019/01/1-17.jpg',\r\n    },\r\n    {  \r\n      id: v1(),\r\n      messageTxt: 'Damn..! I drop all ditails to your email 2 days ago...',\r\n      isUser: false, \r\n      avaUrl: 'https://www.meme-arsenal.com/memes/cc345be87cc4ebce0eac0f9d662358db.jpg',\r\n    },\r\n    {  \r\n      id: v1(),\r\n      messageTxt: 'Ooopss...) Thanks, see your, sis!))',\r\n      isUser: true, \r\n      avaUrl: 'https://slovnet.ru/wp-content/uploads/2019/01/1-17.jpg',\r\n    },\r\n  ] as Array<DialogsMessageType>,\r\n}\r\n\r\n\r\n\r\nexport const dialogsReducer = (state: InitialStateType = initialState, action: DispatchActionPropsType): InitialStateType => {\r\n        switch (action.type){\r\n          case SEND_MESSAGE:{\r\n            if (!action.message) return state;\r\n\r\n            const messageObj =  {\r\n              messageTxt: action.message.trim(), \r\n              isUser: true, \r\n              avaUrl: 'https://slovnet.ru/wp-content/uploads/2019/01/1-17.jpg', \r\n              id: v1(),\r\n            }\r\n\r\n            return {\r\n              ...state,\r\n              messages: [...state.messages, messageObj],\r\n            };\r\n          \r\n          }\r\n\r\n          default:\r\n            return state;\r\n        };\r\n\r\n};\r\n\r\nexport const addSendMessageCreator = (message: string) => ({type: SEND_MESSAGE, message});\r\n","//В компонент нужно передать имя класса если нужно\r\n//и картинку по url адресу\r\n//он записываеться background-img: url\r\n//через styled-componets библиотеку\r\n\r\nimport './avatar.module.css';\r\nimport classes from './avatar.module.css';\r\n\r\nexport  type AvatarSettings = {\r\n    className: string,\r\n    imgUrl: string | null,\r\n  };\r\n\r\nexport  type AvatarPropsType = {\r\n    settings: AvatarSettings,\r\n  };\r\n\r\nfunction Avatar(props: AvatarPropsType) {\r\n    const { className, imgUrl } = props.settings;\r\n\r\n    // const AvatarImage = styled.div`\r\n    //     width: ${width}px;\r\n    //     height: ${height}px;\r\n    //     background-position: center;\r\n    //     background-size: cover;\r\n    //     background-origin: no-repeat;\r\n    //     background-image: url(${imgUrl});\r\n    //     border: 1px solid black;\r\n    // `;\r\n\r\n    return (\r\n        <div \r\n          className={`${classes.avatar} ${className}`}\r\n          style={{backgroundImage: `url(${imgUrl})`}}></div>\r\n    );\r\n};\r\n\r\nexport default Avatar;","import Avatar from './Avatar';\r\n\r\nexport default Avatar;","import classes from './message.module.css';\r\nimport Avatar from '../../../avatar';\r\n\r\n  \r\nexport type MessageDescriptionType = {\r\n    avaUrl: string,\r\n    messageTxt: string,\r\n    isUser: boolean,\r\n    id: string,\r\n  };\r\n\r\nfunction Message(props: MessageDescriptionType) {\r\n    const {messageTxt, avaUrl, isUser} = props;\r\n\r\n    const className = isUser ? classes.message_user_wrap : classes.message_guest_wrap;\r\n\r\n    return (\r\n        <li className={className}>\r\n            <Avatar settings={{className: classes.messaage_avatar, imgUrl: avaUrl}}/>\r\n\r\n            <div className={classes.message_txt}><div>{messageTxt}</div></div>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default Message;","import Message from './Message';\r\n\r\nexport default Message;","import classes from './conversation.module.css';\r\nimport Message from './message';\r\nimport {v1} from 'uuid';\r\nimport { DialogsMessageType } from '../../../redux/reducers/dialogs-reducer';\r\n\r\nexport type ConversationType = {\r\n    messages: Array<DialogsMessageType>;\r\n  };\r\n\r\nfunction Conversation(props: ConversationType) {\r\n    const {messages} = props;\r\n\r\n    const messagesForRender = messages.map(message => <Message key={v1()} {...message}/>);\r\n\r\n    return (\r\n        <ul className={classes.conversation_wrap}>\r\n\r\n           {messagesForRender}\r\n           \r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default Conversation;","import Conversation from './Conversation';\r\n\r\nexport default Conversation;","import './custom_nav_link.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nimport {LinkType} from '../navbar/Navbar';\r\n\r\nfunction CustomNavLink(props: LinkType) {\r\n    const {href, description, className} = props;\r\n\r\n    return (<NavLink to={href} className={className}>{description}</NavLink>);\r\n};\r\n\r\nexport default CustomNavLink;","import CustomNavLink from './CustomNavLink';\r\n\r\nexport default CustomNavLink;","import { DialogsUserType } from '../../../redux/reducers/dialogs-reducer';\r\nimport CustomNavLink from '../../custom-nav-link';\r\nimport classes from './dialogs_nav.module.css';\r\n\r\ntype DialogsNavPropsTYpe = {\r\n    users: Array<DialogsUserType>,\r\n};\r\n\r\nfunction DialogsNav(props: DialogsNavPropsTYpe) {\r\n    const {users} = props;\r\n\r\n    const indicatorJsx = <div className={classes.status_indicator}>\r\n                            <div className={classes.indicator_lamp}></div>\r\n                            <span className={classes.indicator_text}>online</span>\r\n                        </div>;\r\n\r\n    const usersArr = users.map((user: DialogsUserType) => {\r\n        return  <li key={user.href} className={classes.each_user_li}>\r\n                    <CustomNavLink { ...user} />\r\n\r\n                    {user.online ? indicatorJsx : null}\r\n                </li>;\r\n    });\r\n\r\n    return (\r\n        <ul className={classes.users_list}>\r\n\r\n            {usersArr}\r\n\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default DialogsNav;","import DialogsNav from './DialogsNav';\r\n\r\nexport default DialogsNav;","//Валидаторы для библиотеки redux-form \r\n//Функции которые будут вызываться redux-ом\r\n//для валидации форм\r\n\r\n//они передаются в нужные поля как атрибут validate\r\n//возвращают либо текст ошибки либо андефайнед\r\nexport const required = (value: string) => {\r\n    if (value) return undefined;\r\n\r\n    return 'Field is required';\r\n};\r\n\r\n//для возможности передачи каких либо входных данных\r\n//можно использовать замыкания на подобее thunkCreators\r\nexport const maxLengthCreator = (maxLengthValue: number) => (value: string) => {\r\n    if (value.length > maxLengthValue) return `Only ${maxLengthValue} characters is required`;\r\n\r\n    return undefined;\r\n};","import React from 'react';\r\nimport { WrappedFieldProps } from 'redux-form';\r\n\r\nimport classes from './textarea.module.css';\r\n\r\ntype CustomProps = {\r\n    rows?: number,\r\n    cols?: number,\r\n    wrapclassname?: string,\r\n    placeholder?: string,\r\n    nameOfField: string,\r\n};\r\n\r\nconst Textarea: React.FC<WrappedFieldProps & CustomProps> = ({meta, input, ...restProps}) => {\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={`${classes.textareaWrap} ${restProps.wrapclassname}`}>\r\n            <textarea \r\n                    {...input}\r\n                    {...restProps}\r\n                    className={`${hasError ? classes.error : ''}`}\r\n                    ></textarea>\r\n            \r\n            {hasError && <div>{meta.error}</div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Textarea;","import { Field, InjectedFormProps, reduxForm } from 'redux-form';\r\nimport React, {FocusEvent, MouseEvent} from 'react';\r\nimport classes from './send_message_form.module.css';\r\nimport { maxLengthCreator, required } from '../../../utils/validators';\r\nimport Textarea from '../../../custom_form_controls/textarea/Textarea';\r\n\r\nexport type MessageFormType = {\r\n    sendMessageField: string,\r\n};\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\n\r\nconst SendMessageForm: React.FC<InjectedFormProps<MessageFormType>> = (props) => {\r\n    const onSendMessageHandler = (e: MouseEvent<HTMLButtonElement>) => {\r\n            e.currentTarget.classList.add(classes.send_message_button_on_click);\r\n    };\r\n\r\n    const onBlurHandler = (e: FocusEvent<HTMLButtonElement>) => {\r\n        e.currentTarget.classList.remove(classes.send_message_button_on_click);\r\n    };\r\n\r\n    // const submit = (values: MessageFormType) => {\r\n    //     setTimeout(() => {\r\n    //         console.log(values);\r\n    //     }, 400);\r\n    // };\r\n\r\n\r\n    return (\r\n            <form \r\n                onSubmit={props.handleSubmit}\r\n                className={classes.new_message_panel}>\r\n                    <Field \r\n                        wrapclassname={classes.messageFieald}\r\n                        //чтобы отрендерить не стандартный html элемент \r\n                        //а свой, кстомный компонент react\r\n                        //нужно передать эго как значение в Filel в атрибут component\r\n                        name='messageText'\r\n                        component={Textarea} \r\n                        rows={1} \r\n                        nameoffield=\"sendMessageField\" \r\n                        placeholder=\"Typing here...\"\r\n                        //В поле validate мы передаем массив нужных валидаторов\r\n                        validate={[required, maxLength10]}/>\r\n    \r\n                    <div className={classes.send_button_gag}></div>\r\n    \r\n                    <button \r\n                            className={classes.send_message_button}\r\n                            onClick={onSendMessageHandler}\r\n                            onBlur={onBlurHandler}> Send </button>\r\n    \r\n                    {/* <div className={classes.send_button_wrap}>\r\n                        \r\n                    </div> */}\r\n\r\n        </form>\r\n    );\r\n};\r\n\r\nconst SendMessageReduxForm = reduxForm<MessageFormType>({form: 'sendMessageField'})(SendMessageForm);\r\n\r\nexport default SendMessageReduxForm;","import React from 'react';\r\nimport classes from './dialogs.module.css';\r\nimport Conversation from './conversation';\r\nimport DialogsNav from './dalogs_nav';\r\nimport { DialogsPropsType } from './DialogsContainer';\r\nimport SendMessageReduxForm, { MessageFormType } from './send_message_form/SendMessageReduxForm';\r\n\r\nfunction Dialogs(props: DialogsPropsType) {\r\n    const {users, messages, sendMessageHandler} = props;\r\n\r\n    // const onEnterKey = (e: KeyboardEvent<HTMLTextAreaElement>) => {\r\n    //     console.log(e);\r\n    //     if (e.key === 'Enter'){\r\n    //         console.log('sd');\r\n    //     }\r\n    // };\r\n\r\n    // if (!isAuth) return <Redirect to='/login'/> \r\n    const addMessage = (formData: MessageFormType) => {\r\n        console.log(formData);\r\n        sendMessageHandler(formData.sendMessageField);\r\n    };\r\n    \r\n    return (\r\n        <div className={classes.dialogs_wrap}>\r\n            <h2 className={classes.dialogs_header}>Dialogs</h2>\r\n\r\n            <nav className={classes.dialogs_nav}>\r\n                <DialogsNav users={users}/>\r\n            </nav>\r\n\r\n            <div className={classes.dialogs_conversation_outside_box}>\r\n\r\n                <div className={classes.dialogs_conversation}>\r\n                    <Conversation messages={messages} />\r\n                </div>\r\n\r\n                <SendMessageReduxForm onSubmit={addMessage}/>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dialogs;","import React, { ComponentType } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\n\r\nimport { AppStateType } from \"../redux/redux-store\";\r\n//HOC = high order component\r\n//хоки это функции которые используються для создания компонент-оберток\r\n//они принимают компоненту и возвпащают контейекрную компоненту\r\n//в котрую обернута переданая и выполняют однотипную грязную работу\r\n//такую как обращеня на сервак аутентификация т.п.\r\n\r\ntype MapStateToPropsForRedirectType = {\r\n    isAuth: boolean,\r\n};\r\n\r\nconst MapStateToPropsForRedirect = (state: AppStateType): MapStateToPropsForRedirectType => ({\r\n    isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport function withAuthReadirect<T>(Component: ComponentType<T>) {\r\n    \r\n    const RedirectComponent = (props: MapStateToPropsForRedirectType) => {\r\n        const {isAuth, ...restProps} = props;\r\n\r\n        if (!isAuth) return <Redirect to='/login'/>;\r\n\r\n        return <Component {...restProps as T}/>;\r\n    };\r\n\r\n    const ConectedAuthRedirectComponent = connect(MapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConectedAuthRedirectComponent;\r\n};","import {addSendMessageCreator, InitialStateType} from '../../redux/reducers/dialogs-reducer';\r\nimport Dialogs from './Dialogs';\r\nimport { connect } from 'react-redux';\r\nimport { compose, Dispatch } from 'redux';\r\nimport { AppStateType } from '../../redux/redux-store';\r\nimport { withAuthReadirect } from '../../hoc/withAuthedirect';\r\nimport React from 'react';\r\n\r\ntype MapStateToProps = InitialStateType;\r\n\r\ntype MapDispatchPropsType = {\r\n    sendMessageHandler: (text: string) => void,\r\n};\r\n\r\nexport type DialogsPropsType = MapStateToProps & MapDispatchPropsType;\r\n\r\nconst mapStateToProps = (state: AppStateType): InitialStateType => {\r\n    return {\r\n        messages: state.dialogsPage.messages,\r\n        users: state.dialogsPage.users,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch): MapDispatchPropsType => {\r\n    return {\r\n        sendMessageHandler: (text: string) => {\r\n            dispatch(addSendMessageCreator(text))\r\n        },\r\n    };\r\n};\r\n\r\nconst DialogsContainer = compose<React.ComponentType>(\r\n                                    connect(mapStateToProps, mapDispatchToProps),\r\n                                    withAuthReadirect,\r\n                                )(Dialogs);\r\n\r\n// const DialogsContainer = withAuthReadirect(connect(mapStateToProps, mapDispatchToProps)(Dialogs));\r\n\r\nexport default DialogsContainer;","\r\nfunction Music() {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Music;","import Music from './Music';\r\n\r\nexport default Music;","import classes from './friends_nav.module.css';\r\nimport Avatar from '../../avatar';\r\nimport CustomNavLink from '../../custom-nav-link';\r\nimport { FriendsCardsType } from '../Navbar';\r\n\r\nexport type FriendsNavPropsType = {\r\n    friendsArr: Array<FriendsCardsType>,\r\n}; \r\n\r\n// идея №1\r\n// максимальное количество отображаемых элэментов = 8\r\n// при клике на кастомную прокрутку прокрутку\r\n// будут подгружатся следующие/предидущие карточки с друзями \r\n\r\nfunction FriendsNav(props: FriendsNavPropsType) {\r\n    const {friendsArr} = props;\r\n\r\n    const cardsArr = friendsArr.map(card => {\r\n        const {avatar = '', name, href} = card;\r\n\r\n        const linkContent = <>\r\n                                <div>{name}</div>\r\n\r\n                                <Avatar settings={{className: classes.friend_avatar, imgUrl: avatar}} />\r\n                            </>;\r\n\r\n        \r\n        return (\r\n            <li key={href}>\r\n                <CustomNavLink {...{href: href, \r\n                                    description: linkContent,\r\n                                    className: classes.friend_avatar_box}} />\r\n            </li>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <ul className={classes.friends_block}>\r\n\r\n               {cardsArr}\r\n\r\n            </ul>\r\n\r\n            <CustomNavLink {...{href: '/all_friends', className: classes.all_friends_link, description: 'To all friends >>'}}/>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default FriendsNav;","import FriendsNav from './FriendsNav';\r\n\r\nexport default FriendsNav;","import classes from  './navbar.module.css';\r\n\r\nimport CustomNavLink from '../custom-nav-link';\r\nimport FriendsNav from \"./friends_nav\";\r\nimport { useSelector } from 'react-redux';\r\nimport { AppStateType } from '../../redux/redux-store';\r\n\r\nexport type FriendsCardsType = {\r\n  avatar: string,\r\n  name: string,\r\n  href: string,\r\n};\r\n\r\nexport type LinkType = {\r\n  href: string,\r\n  description?: string | Object,\r\n  className?: string,\r\n};\r\n\r\nexport type NavType = {\r\n  links: Array<LinkType>,\r\n  friendsArr: Array<FriendsCardsType>,\r\n};\r\n\r\nfunction Navbar() {\r\n    const {links, friendsArr} = useSelector<AppStateType, NavType>(state => state.navBar);\r\n\r\n    const linksArr = links.map((linkSettings: LinkType) => {\r\n      return <li key={linkSettings.href} ><CustomNavLink {...linkSettings} /></li>\r\n    });\r\n\r\n    return(\r\n      <nav className={classes.main_nav_bar}>\r\n        <ul className={classes.ul_nav_bar}>\r\n          {linksArr}\r\n        </ul>\r\n\r\n        <FriendsNav friendsArr={friendsArr}/>\r\n      </nav>\r\n    );\r\n};\r\n\r\nexport default Navbar;","import Navbar from './Navbar';\r\n\r\nexport default Navbar;","import './settings.module.css';\r\n\r\nfunction Settings() {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Settings;","import Settings from './Settings';\r\n\r\nexport default Settings;","\r\nfunction News() {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default News;","import News from './News';\r\n\r\nexport default News;","import axios from \"axios\";\r\nimport { type } from \"os\";\r\n\r\n//axios.create - воспомагательная функция котроая возвращает екземпляр обьъкта \r\n//в котором можно задать базовые параметры запроса\r\nconst instance = axios.create({\r\n    //Вторым параметром на сервер мы отправляем объект настроек запроса\r\n    \r\n    //withCredentials: true означает что мы цепляем куки которые есть в\r\n    //в браузере после авторизации на серваке\r\n    //так как CORS политика запрещает автоматическое йепляние кукисов \r\n    //при кросдоменном обращенни\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"797677fc-71e8-47d3-89ee-972f9e368c32\",\r\n    },\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0\",\r\n});\r\n\r\ntype RequestItemsType = {\r\n    followed: boolean,\r\n    id: number\r\n    name: string,\r\n    photos: {small: string | null, large: string | null},\r\n    status: string | null,\r\n    uniqueUrlName: string | null,\r\n};\r\n\r\nexport type GetUsersRequestType = {\r\n    error: string | null,\r\n    items: Array<RequestItemsType>,\r\n    totalCount: number,\r\n};\r\n\r\nexport type LoginRequestObj = {\r\n    email: string,\r\n    password: string,\r\n    rememberMe: boolean,\r\n};\r\n\r\nexport const usersAPI = {\r\n    getUsers (currentPage: number = 1, pageSize: number = 10){\r\n        return instance.get(`/users?page=${currentPage}&count=${pageSize}`)\r\n            //этот then нужен чтобы даавть презентационной компоненте толькo нужые ей данные\r\n            .then(responce => responce.data);\r\n    },\r\n\r\n    userSubscribeSwitch (followed: boolean, userId: number){\r\n        return followed \r\n            ? instance.delete(`/follow/${userId}`)\r\n                .then(responce => responce.data.resultCode)\r\n            : instance.post(`/follow/${userId}`)\r\n                .then(responce => responce.data.resultCode); \r\n    },\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile (userId: string){\r\n        return instance.get(`/profile/${userId}`)\r\n                        .then(responce => responce.data);\r\n    },\r\n\r\n    getProfileStatus (userId: string){\r\n        return instance.get(`/profile/status/${userId}`)\r\n                        .then(responce => responce.data);\r\n    },\r\n\r\n    setProfileStatus (newStatus: string){\r\n        return instance.put(`/profile/status`, {status: newStatus})\r\n                        .then(responce => responce.data);\r\n    },\r\n\r\n    putProfilePhoto (photoURL: any){\r\n        console.log(photoURL);\r\n        return instance.put(`/profile/photo`, {image: photoURL})\r\n                        .then(responce => responce.data);\r\n    },\r\n};\r\n\r\nexport const authAPI = {\r\n    getAuthData (){\r\n        return instance.get(`/auth/me`)\r\n                        .then(responce => responce.data);\r\n    },\r\n\r\n    login (loginData: LoginRequestObj){\r\n        return instance.post(`/auth/login`, {...loginData});\r\n    },\r\n\r\n    logout (){\r\n        return instance.delete(`/auth/login`)\r\n                        .then(responce => responce.data.resultCode);\r\n    },\r\n};","import { Dispatch } from \"react\";\r\nimport { ThunkAction } from \"redux-thunk\";\r\nimport { GetUsersRequestType, usersAPI } from \"../../api/dal\";\r\nimport { DispatchUsersActionType } from \"../../App\";\r\nimport { AppStateType } from \"../redux-store\";\r\n\r\nconst CHANGE_FOLLOW_STATUS = 'CHANGE_FOLLOW_STATUS',\r\n    SET_USERS = 'SET_USERS',\r\n    CHANGE_CURRENT_PAGE = 'CHANGE_CURRENT_PAGE',\r\n    SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT',\r\n    TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING',\r\n    TOOGLE_FOLLOWING_PROGRES = 'TOOGLE_FOLLOWING_PROGRES';\r\n\r\nexport type UserType = {\r\n    followed: boolean,\r\n    id: number,\r\n    name: string,\r\n    photos: {small: string | null, large:string | null},\r\n    status: string | null,\r\n    uniqueUrlName: string | null,\r\n};\r\n\r\nexport type StateUserType = {\r\n    users: Array<UserType> | [],\r\n    pageSize: number,\r\n    totalUsersCount: number,\r\n    currentPage: number,\r\n    isFetching: boolean,\r\n    //этот массив нужен чтобы можно было знать кнопку какого\r\n    //юзера нужно дизейблить в момент запроса на сервак\r\n    followingIdArr: Array<number | undefined>,\r\n};\r\n\r\ntype ThunkType = ThunkAction<void, AppStateType, unknown, DispatchUsersActionType>;\r\n\r\nconst initialState: StateUserType = {\r\n    users: [],\r\n    pageSize: 4,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingIdArr: [],\r\n};\r\n\r\nexport const usersReducer = (state: StateUserType = initialState, action: DispatchUsersActionType): StateUserType => {\r\n    switch (action.type) {\r\n        case CHANGE_FOLLOW_STATUS:\r\n            return {\r\n                ...state,\r\n                users: state.users.map((user: UserType) => user.id === action.userId ? {...user, followed: !user.followed} : user),\r\n            };\r\n       \r\n        case SET_USERS:\r\n            if (!action.users) return state;\r\n\r\n            return {\r\n                ...state,\r\n                users: [...action.users],\r\n            };\r\n\r\n        case CHANGE_CURRENT_PAGE:\r\n            if (!action.currenPage) return state;\r\n\r\n            return {\r\n                ...state,\r\n                currentPage: action.currenPage,\r\n            }; \r\n\r\n        case SET_TOTAL_USERS_COUNT:\r\n            if (!action.totalUsersCount) return state;\r\n\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount,\r\n            };\r\n            \r\n        case TOGGLE_IS_FETCHING:\r\n            if (!action.isFetching) {\r\n                return {\r\n                    ...state,\r\n                    isFetching: false,\r\n                }; \r\n            };\r\n\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching,\r\n            }; \r\n\r\n        case TOOGLE_FOLLOWING_PROGRES:\r\n            return {\r\n                ...state,\r\n                followingIdArr: action.isFetching \r\n                    ? [...state.followingIdArr, action.userId] \r\n                    : state.followingIdArr.filter(id => id !== action.userId),\r\n            };\r\n    }\r\n    return state;\r\n};\r\n\r\nexport const followSwitch = (userId: number) => ({type: CHANGE_FOLLOW_STATUS, userId});\r\nexport const setUsers = (users: Array<UserType>) => ({type: SET_USERS, users});\r\nexport const changePage = (currenPage: number) => ({type: CHANGE_CURRENT_PAGE, currenPage});\r\nexport const setTotalUsersCount = (totalUsersCount: number) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount});\r\nexport const toggleLoader = (isFetching: boolean) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const isFollowingTriger = (isFetching: boolean, userId: number) => ({type: TOOGLE_FOLLOWING_PROGRES, isFetching, userId});\r\n\r\n//THUNK\r\n\r\n//Thunk-и это функции которые принимают от когото нужные данные\r\n//и возвращают функцию которая диспачит экшн-криэйторы\r\n\r\n//Санки нужны для того чтобы убрвть асинхронные вызовы из презентационной компоненты\r\n//так как она просто UI прослйка и не должна ничего делать кроме как \r\n//получать и отображать данные\r\n\r\n//Так как это асинхронные прцесы мы не можем вклинить их в поток\r\n//то есть делать асинхронные вызовы в reducer-ах\r\n\r\n//по этому мы используем Санки для асинхронных оьращений и диспачей\r\n\r\n//Thunk-creator-и нужны для передачи через них данных \r\n//при помощи замыканий\r\nexport const getUsersThunkCreator = (currentPage: number, pageSize: number): ThunkType => {\r\n    return (dispatch: Dispatch<DispatchUsersActionType>) => {\r\n        dispatch(toggleLoader(true));\r\n            \r\n        usersAPI.getUsers(currentPage, pageSize)\r\n            .then((data: GetUsersRequestType) => {\r\n                dispatch(toggleLoader(false));\r\n                dispatch(setUsers(data.items));\r\n                dispatch(setTotalUsersCount(data.totalCount));\r\n            })}\r\n};\r\n\r\nexport const changePageThunkCreator = (pageNumber: number, pageSize: number): ThunkType => {\r\n    return (dispatch: Dispatch<DispatchUsersActionType>) => {\r\n        dispatch(toggleLoader(true));\r\n\r\n        dispatch(changePage(pageNumber));\r\n\r\n        usersAPI.getUsers(pageNumber, pageSize)\r\n            .then((data: GetUsersRequestType) => {\r\n                dispatch(toggleLoader(false));\r\n                dispatch(setUsers(data.items));\r\n            });\r\n    }\r\n};\r\n\r\nexport const followSwitchingThunkCreator = (followed: boolean, userId: number) => {\r\n    return (dispatch: Dispatch<DispatchUsersActionType>) => {\r\n        dispatch(isFollowingTriger(true, userId));\r\n\r\n        usersAPI.userSubscribeSwitch(followed, userId)\r\n            .then((resultCode: number) => {\r\n                if (resultCode === 0){\r\n                    dispatch(followSwitch(userId));\r\n                    dispatch(isFollowingTriger(false, userId));\r\n                };\r\n            });  \r\n    };\r\n};","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport classes from './users.module.css';\r\nimport userPhoto from '../../imgs/images.png';\r\nimport { UserType } from '../../redux/reducers/users-reducer';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\ntype UsersType = {\r\n    users: Array<UserType>,\r\n    pageSize: number,\r\n    totalUsersCount: number,\r\n    currentPage: number,\r\n    followingIdArr: Array<number | undefined>,\r\n    auth: boolean,\r\n    changePageHandler: (pageNumber: number) => void,\r\n    followSwitchingThunkCreator: (followed: boolean, userId: number) => void;\r\n};\r\n\r\nfunction UsersComponent (props: UsersType) {\r\n    //Сделать карусель с пагинацией, потому что не влезает\r\n    // const pagesAmount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n \r\n    const pages = [];\r\n\r\n    for ( let i = 1; i <= 10; i++ ) {\r\n        pages.push(i);\r\n    };\r\n\r\n    return (\r\n            <div className={classes.usersBlock}>\r\n                <div className={classes.paginationBlock}>\r\n                    {\r\n                        pages.map(page => <span  \r\n                                            key={page}   \r\n                                            className={`${classes.puginationNumStyle} ${props.currentPage === page \r\n                                            && classes.currentPage}`}\r\n                                            onClick={() => props.changePageHandler(page)}>{page}</span>)\r\n                    }\r\n                </div>\r\n            <>\r\n                {\r\n                    props.users.map((user: UserType) => (\r\n                    <div \r\n                        className={classes.userWrap}\r\n                        key={user.id}>\r\n                        <div>\r\n                            <NavLink to={'/profile/' + user.id}>\r\n                                <img \r\n                                    src={user.photos.small \r\n                                            ? user.photos.small \r\n                                            : userPhoto} \r\n                                    alt=\"User avatar is here\" />\r\n                            </NavLink>\r\n\r\n                            {\r\n                                props.auth \r\n                                    &&\r\n                                    <button \r\n                                        disabled={props.followingIdArr.some(id => id === user.id)}\r\n                                        className={(!user.followed) ? classes.followBtnStyle : classes.unfollowBtnStyle}\r\n                                        onClick={() => props.followSwitchingThunkCreator(user.followed, user.id)}>\r\n                                        {(!user.followed) ? 'follow' : 'unfollow'}\r\n                                    </button>\r\n                            }\r\n                        </div>\r\n                        \r\n                        <div>\r\n                            <div>\r\n                                <h3>{user.name}</h3>\r\n                                <div>{user.status ? user.status : 'No Status'}</div>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <span>{\"user.location.country\"}</span>\r\n                                <span>{\"user.location.city\"}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>))\r\n                }\r\n\r\n            </>\r\n        \r\n            {/* <button\r\n                onClick={this.getUsers}>Get Users</button> */}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Users = React.memo(UsersComponent);\r\n\r\nexport default Users;","export default __webpack_public_path__ + \"static/media/Triangles-1.4s-200px.9b611115.svg\";","import React from \"react\";\r\n\r\nimport classes from \"./preloader.module.css\";\r\nimport preloader from \"../../imgs/Triangles-1.4s-200px.svg\";\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <img \r\n            className={classes.preloader}\r\n            src={preloader}\r\n            alt='preloader'/>\r\n    );\r\n};\r\n\r\nexport default Preloader;","import { createSelector } from \"reselect\";\r\nimport { StateUserType, UserType } from \"../reducers/users-reducer\";\r\nimport { AppStateType } from \"../redux-store\";\r\n\r\n\r\n//Селекторы нужны для выборки из mapStaсteToPropsтейта\r\n//Если в mapDispatchToProps или в mapStateToProps передавать просто выборку \r\n//с объекта то при изменении вида хранения данных\r\n//прйдется переписывать все компоненты которые  них нуждаются\r\n\r\n//для выборки данных архтектурно правильно по этому будет использовать функции\r\n//чтобы в случае чего менять представление только тут \r\n//в=а компонента будет просто вызывать эту функцию\r\n\r\n//важно следить чтобы функция не возвращала новые данные когда это не нужно\r\n//так как мапДиспатч срабатывает при каждом обновлении стейта\r\n//касается оно его или нет\r\n//и соответственно функция будет срабатывать тоже\r\n\r\n//и вызывать перерендер возвраом новых данных\r\n\r\n//плюс важно хешировать результа для одинаковаых входных данных\r\n//чтоды в случае сильных расчетов в нутри функции не грузить посто так проц\r\n\r\n//для эого нам нужны зависимости\r\n\r\n//чтобы все это не писать в ручную используем библиотеку RESELECT\r\n\r\n//простые селекторы можно отавить так а вот сложные лутще через reselect\r\n\r\n//допустим у нас есть над юзерами проводится \"сложная фильтрация\"\r\n//фильтер всегда возвращает новый массив и соответсвенно\r\n//про запуске мапСтейт будет постоянная перерисовка при изменении любых данных даже не касающихся юзеров\r\n//инкапсулируем логику с помощю reselect\r\n\r\n//создат селектор можно с помощю функции createSelector\r\n\r\n//первым параметром она принимаеет более примитивные селекторы \r\n//котроые вернут зависимости прои изменении которых и будет запускатся \r\n//более сложный селектор\r\n\r\nconst getUsersSimpleSelector = (state: AppStateType) => {\r\n    return state.usersPage.users;\r\n};\r\n\r\nexport const usersSelectors = {\r\n    getUsersSelector: createSelector(getUsersSimpleSelector, \r\n        (users: UserType[]) => {\r\n            return users.filter(u => true);\r\n    }),\r\n\r\n    getPageSizeSelector (state: AppStateType){\r\n        return state.usersPage.pageSize;\r\n    },\r\n\r\n    getTotalCountUsersSelector (state: AppStateType){\r\n        return state.usersPage.totalUsersCount;\r\n    },\r\n\r\n    getGetCurrentPageSelector (state: AppStateType){\r\n        return state.usersPage.currentPage;\r\n    },\r\n\r\n    getIsFetchingSelector (state: AppStateType){\r\n        return state.usersPage.isFetching;\r\n    },\r\n\r\n    getFollowingIdSelector (state: AppStateType){\r\n        return state.usersPage.followingIdArr;\r\n    },\r\n\r\n    getIsAuthSelector (state: AppStateType){\r\n        return state.auth.isAuth;\r\n    },\r\n};","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { changePage, \r\n        setTotalUsersCount, \r\n        toggleLoader,\r\n        StateUserType, \r\n        UserType, \r\n        getUsersThunkCreator,\r\n        changePageThunkCreator,\r\n        followSwitchingThunkCreator} from \"../../redux/reducers/users-reducer\";\r\nimport { AppStateType } from \"../../redux/redux-store\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../preloader/Preloader\";\r\nimport { usersSelectors } from \"../../redux/selectors/usersSelectors\";\r\n\r\ntype MapStateToProps = {\r\n    users: Array<UserType>,\r\n    pageSize: number,\r\n    totalUsersCount: number,\r\n    currentPage: number,\r\n    isFetching: boolean,\r\n    followingIdArr: Array<number | undefined>,\r\n    auth: boolean,\r\n};\r\n\r\ntype MapDispatchPropsType = {\r\n    changePage: (currentPage: number) => void,\r\n    setTotalUsersCount: (totalUsersCount: number) => void;  \r\n    toggleLoader: (isFetching: boolean) => void;\r\n    getUsersThunkCreator: (currentPage: number, pageSize: number) =>  void;\r\n    changePageThunkCreator: (pageNumber: number, pageSize: number) => void;\r\n    followSwitchingThunkCreator: (followed: boolean, userId: number) => void;\r\n};\r\n\r\nexport type UsersPropsType = MapStateToProps & MapDispatchPropsType;\r\n\r\nclass UsersRequestContainer extends React.Component<UsersPropsType, StateUserType>{\r\n    componentDidMount() {\r\n        if (this.props.users.length === 0){\r\n          this.props.getUsersThunkCreator(this.props.currentPage, this.props.pageSize);\r\n        };\r\n    }\r\n\r\n    changePageHandler = (pageNumber: number) => {\r\n        this.props.changePageThunkCreator(pageNumber, this.props.pageSize);\r\n    };\r\n\r\n    render () {\r\n        return <>\r\n                {this.props.isFetching ? <Preloader /> : null}\r\n\r\n                <Users   \r\n                    users={this.props.users}\r\n                    auth={this.props.auth}\r\n                    pageSize={this.props.pageSize}\r\n                    totalUsersCount={this.props.totalUsersCount}\r\n                    currentPage={this.props.currentPage}\r\n                    followingIdArr={this.props.followingIdArr}\r\n                    changePageHandler={this.changePageHandler}\r\n                    followSwitchingThunkCreator={this.props.followSwitchingThunkCreator}/>\r\n            </>\r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToProps => {\r\n    return {\r\n        users: usersSelectors.getUsersSelector(state),\r\n        pageSize: usersSelectors.getPageSizeSelector(state),\r\n        totalUsersCount: usersSelectors.getTotalCountUsersSelector(state),\r\n        currentPage: usersSelectors.getGetCurrentPageSelector(state),\r\n        isFetching: usersSelectors.getIsFetchingSelector(state),\r\n        followingIdArr: usersSelectors.getFollowingIdSelector(state),\r\n        auth: usersSelectors.getIsAuthSelector(state),\r\n    };\r\n};\r\n\r\n//можно для диспача екшнкриэйторов использовать функцию mapDispatchToProps\r\n//которая возвращает объект диспачей \r\n\r\n//а можно \"попросить\" conect самому задиспатчить экшнкрэйторы и передать в них значения\r\n//если передавать туда объект с криэйторами в качестве значений\r\n//это гораздо уменшает наш код\r\n\r\n//еще меньше кода можно писать если использовать одиноковые имена свойств и значений\r\n\r\nconst UsersContainer = connect(mapStateToProps, {\r\n                                                    changePage,\r\n                                                    setTotalUsersCount,\r\n                                                    toggleLoader,\r\n                                                    getUsersThunkCreator,\r\n                                                    changePageThunkCreator,\r\n                                                    followSwitchingThunkCreator\r\n                                                })(UsersRequestContainer);\r\n\r\nexport default UsersContainer;\r\n\r\n\r\n// const mapDispatchToProps = (dispatch: Dispatch): MapDispatchPropsType => {\r\n//     return {\r\n//         followSwitch: (userId: number) => {\r\n//             dispatch(changeFollowStatusActionCreator(userId));\r\n//         },\r\n\r\n//         setUsers: (users: StateUserType) => {\r\n//             dispatch(setUsersActionCreator(users));\r\n//         },\r\n\r\n//         changePage: (currentPage: number) => {\r\n//             dispatch(changeCurrentPageActionCreator(currentPage));\r\n//         },\r\n\r\n//         setTotalUsersCount: (totalUsersCount: number) => {\r\n//             dispatch(setTotalUsersCountActionCreator(totalUsersCount));\r\n//         },  \r\n\r\n//         toggleLoader: (isFetching) => {\r\n//             dispatch(toggleIsFetchingActionCreator(isFetching));\r\n//         },\r\n//     };\r\n// };","import { Dispatch } from 'react';\r\nimport {v1} from 'uuid';\r\nimport { profileAPI } from '../../api/dal';\r\nimport { DispatchUsersActionType } from '../../App';\r\nimport { PostsType } from '../../components/profile/Profile';\r\n\r\nconst ADD_POST = 'ADD-POST',\r\n  SET_USER_PROFILE = 'SET_USER_PROFILE',\r\n  SET_STATUS = 'SET_STATUS',\r\n  INCPEMENT_POST_LIKE = 'INCPEMENT_POST_LIKE',\r\n  INCPEMENT_POST_DISLIKE = 'INCPEMENT_POST_DISLIKE';\r\n\r\nexport type DispatchProfileUserActionType = {\r\n    type: string,\r\n    message?: string,\r\n    userProfile?: ProfileUserType,\r\n    status?: string,\r\n    userId?: number,\r\n    postId?: string,\r\n  };\r\n\r\nexport type ProfileDataType = {\r\n  user: ProfileUserType,\r\n  posts: Array<PostsType>,\r\n};\r\n\r\nexport type ProfileUserType = {\r\n    aboutMe: string,\r\n    contacts: {\r\n      facebook: string | null,\r\n      website: string | null,\r\n      vk: string | null,\r\n      twitter: string | null,\r\n      instagram: string | null,\r\n      youtube: string | null,\r\n      github: string | null,\r\n      mainLink: string | null,\r\n    },\r\n    status: string,\r\n    lookingForAJob: boolean,\r\n    lookingForAJobDescription: string | null,\r\n    fullName: string,\r\n    userId: number,\r\n    photos: {\r\n      small: string | null,\r\n      large: string | null,\r\n    }\r\n} | null;\r\n\r\nexport type MainUserType = {\r\n  name: string,\r\n  surname: string,\r\n  mainUserAvaUrl: string,\r\n};\r\n\r\nexport type PostType = {\r\n  text: string, \r\n  likes: number, \r\n  dislikes: number, \r\n  id: string,\r\n};\r\n\r\n// {\r\n//   name: 'Zheka',\r\n//   surname: 'Khorunzhyi',\r\n//   mainUserAvaUrl: 'https://slovnet.ru/wp-content/uploads/2019/01/1-17.jpg',\r\n// }\r\n\r\nconst initialState: ProfileDataType = {\r\n  // user: {  \r\n  //         aboutMe: \"sdfsdfsdf\",\r\n  //         contacts: {\r\n  //           facebook: null,\r\n  //           website: null,\r\n  //           vk: null,\r\n  //           twitter: null,\r\n  //           instagram: null,\r\n  //           youtube: null,\r\n  //           github: null,\r\n  //           mainLink: null\r\n  //         },\r\n  //         lookingForAJob: false,\r\n  //         lookingForAJobDescription: null,\r\n  //         fullName: \"AlexanderKhodaryonok\",\r\n  //         userId: 3,\r\n  //         photos: {\r\n  //           small: null,\r\n  //           large: null\r\n  //         },\r\n  //   },\r\n  user: null,\r\n  posts: [\r\n    {text: 'Blablabla my post yo!', likes: 21, dislikes: 10, id: v1()},\r\n    {text: 'Another post, yeh!', likes: 51, dislikes: 69, id: v1()},\r\n    {text: 'What a hell, what is the butifful post?', likes: 121, dislikes: 0, id: v1()},\r\n    {text: 'Stupid post', likes: 21, dislikes: 1110, id: v1()},\r\n    {text: 'Best ever post', likes: 2121, dislikes: 110, id: v1()},\r\n  ],\r\n};\r\n\r\nexport const profileReducer = (state: ProfileDataType = initialState, action: DispatchProfileUserActionType): ProfileDataType => {\r\n  switch (action.type){\r\n    case ADD_POST:\r\n      if (!action.message) return state;\r\n      \r\n      const newPost = {\r\n        text: action.message.trim(),\r\n        likes: 0,\r\n        dislikes: 0,\r\n        id: v1(),\r\n      };\r\n\r\n      return {\r\n        ...state,\r\n        posts: [newPost, ...state.posts],\r\n      };\r\n\r\n    case SET_USER_PROFILE :\r\n      if (!action.userProfile) return state;\r\n      \r\n      return {\r\n        ...state,\r\n        user: action.userProfile,\r\n      };\r\n\r\n    case SET_STATUS :\r\n      if (!state.user) return state;\r\n\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...state.user,\r\n          status: action.status ? action.status : '',\r\n        },\r\n      };\r\n\r\n      case INCPEMENT_POST_LIKE :\r\n        if (!state.user) return state;\r\n  \r\n        return {\r\n          ...state,\r\n          posts: state.posts.map(post => post.id === action.postId \r\n                                            ? {...post, likes: post.likes + 1}\r\n                                            : post)\r\n        };\r\n\r\n      case INCPEMENT_POST_DISLIKE :\r\n        if (!state.user) return state;\r\n  \r\n        return {\r\n          ...state,\r\n          posts: state.posts.map(post => post.id === action.postId \r\n                                            ? {...post, dislikes: post.dislikes + 1}\r\n                                            : post)\r\n        };\r\n\r\n    default:\r\n      return state;\r\n  };\r\n};\r\n\r\nexport const addPostCreator = (message: string) => ({type: ADD_POST, message});\r\nexport const setUserProfileAC = (userProfile: ProfileUserType) => ({type: SET_USER_PROFILE, userProfile});\r\nexport const setStatusAC = (status: string) => ({type: SET_STATUS, status});\r\nexport const incrementPostLikeAC = (userId: number, postId: string) => ({type: INCPEMENT_POST_LIKE, userId, postId});\r\nexport const incrementPostDislikeAC = (userId: number, postId: string) => ({type: INCPEMENT_POST_DISLIKE, userId, postId});\r\n\r\nexport const getStatusThunkCreator = (userId: string) => {\r\n  return (dispatch: Dispatch<DispatchProfileUserActionType>) => {\r\n    profileAPI.getProfileStatus(userId)\r\n          .then(status => {\r\n            dispatch(setStatusAC(status))\r\n          });\r\n  };\r\n};\r\n\r\nexport const updateStatusThunkCreator = (status: string) => {\r\n  return (dispatch: Dispatch<DispatchProfileUserActionType>) => {\r\n    profileAPI.setProfileStatus(status)\r\n          .then(resCode => {\r\n            if (!resCode) {\r\n              dispatch(setStatusAC(status))\r\n            };\r\n          });\r\n  };\r\n};\r\n\r\ntype GetStatusThunkCreatorType = {\r\n  (dispatch: Dispatch<DispatchProfileUserActionType>): void\r\n};\r\n\r\nexport const getProfileThunkCreator = (userId: string) => {\r\n  return (dispatch: Dispatch<DispatchUsersActionType | GetStatusThunkCreatorType>) => {\r\n    profileAPI.getProfile(userId)\r\n                    .then(data => {\r\n                        dispatch(setUserProfileAC(data));\r\n\r\n                        dispatch(getStatusThunkCreator(userId))\r\n                    });\r\n  };\r\n};\r\n\r\nexport const putProfilePhotoThunkCreator = (photoURL: any) => {\r\n  return (dispatch: Dispatch<DispatchUsersActionType>) => {\r\n    profileAPI.putProfilePhoto(photoURL)\r\n                    .then(data => {\r\n                        // dispatch(setUserProfileAC(data));\r\n                        console.log(data);\r\n                    });\r\n  };\r\n};","import classes from './post.module.css';\r\nimport Avatar from '../../../avatar';\r\n\r\nimport { PostType } from '../../../../redux/reducers/profile-reducer';\r\n\r\nfunction Post(props: PostType) {\r\n    const {text, likes, dislikes} = props;\r\n\r\n    return (\r\n        <div className={classes.post}>\r\n                <Avatar settings={{className: classes.post_img, imgUrl: 'https://slovnet.ru/wp-content/uploads/2019/01/1-17.jpg'}}/>\r\n\r\n                <div className={classes.text_area}>\r\n                    <span className={classes.post_text}>{text}</span>\r\n\r\n                    {/* <button className={classes.like}></button>\r\n\r\n                    <button className={classes.dislike}></button> */}\r\n                \r\n                    <span className={classes.counter}>{likes}</span>\r\n                    <input  className={classes.text_area_input} \r\n                            type=\"radio\" \r\n                            id=\"like\" \r\n                            name=\"post-reactions\" \r\n                            value=\"like\"/>\r\n                    <label className={classes.like} htmlFor=\"like\"></label>\r\n                    \r\n                    <span className={classes.counter}>{dislikes}</span>\r\n                    <input  className={classes.text_area_input} \r\n                            type=\"radio\"    \r\n                            id=\"dislike\" \r\n                            name=\"post-reactions\" \r\n                            value=\"dislike\"/>\r\n                    <label className={classes.dislike} htmlFor=\"dislike\"></label>\r\n                </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Post;","import Post from './Post';\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport { Field, reduxForm, InjectedFormProps } from 'redux-form';\r\nimport Textarea from '../../../../custom_form_controls/textarea/Textarea';\r\nimport { maxLengthCreator, required } from '../../../../utils/validators';\r\nimport classes from './newpost.module.css';\r\n\r\n// type NewPostPropsType = {\r\n//     // newPostText: string,\r\n//     // addNewPostHandler: (text: string) => void,\r\n//     // onChangeHandler: (text: string) => void,\r\n//     // handleSubmit: () => void,\r\n//  };\r\n\r\nexport type AddPostFormDataType = {\r\n    addPostField: string,\r\n};\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst NewPost: React.FC<InjectedFormProps<AddPostFormDataType>> = (props) => {\r\n\r\n    return (\r\n        <form \r\n            className={classes.new_post}\r\n            onSubmit={props.handleSubmit}>\r\n            <Field  \r\n                component={Textarea}\r\n                name=\"addPostField\"\r\n                cols={90} \r\n                rows={5} \r\n                placeholder=\"Typing your post here...\"\r\n                validate={[required, maxLength10]}/>\r\n            \r\n            <button \r\n                type='submit'\r\n                className=\"send\">Add post</button>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst NewPostReduxForm = reduxForm<AddPostFormDataType>({form: 'newPost'})(NewPost);\r\n\r\nexport default NewPostReduxForm;","import Post from './post';\r\nimport classes from './myposts.module.css';\r\nimport { DispatchProfileUserActionType } from '../../../redux/reducers/profile-reducer';\r\nimport { PostsType } from '../Profile';\r\nimport { MyPostsPropsType } from './MyPostsContainer';\r\nimport { PostType } from '../../../redux/reducers/profile-reducer';\r\nimport NewPostReduxForm, { AddPostFormDataType } from './new-post/NewPost';\r\n  \r\n  export type PostsPropsType = {\r\n    posts: Array<PostsType>,\r\n    newPostText: string,\r\n    dispatch: (action: DispatchProfileUserActionType) => void;\r\n}; \r\n\r\n\r\nfunction MyPosts(props: MyPostsPropsType) {\r\n    const {posts, addNewPostHandler} = props;\r\n\r\n    const postsArr = posts.map((post: PostType )=> <li key={post.id}><Post {...post}/></li>);\r\n\r\n    const addPostHandler = (formData: AddPostFormDataType) => {\r\n        addNewPostHandler(formData.addPostField);\r\n    };\r\n\r\n    return (\r\n    <div className={classes.myposts}>\r\n        <span className={classes.header}>My Posts</span>\r\n        \r\n        <NewPostReduxForm\r\n                        onSubmit={addPostHandler}/>\r\n\r\n        <div className={classes.posts_block}>\r\n\r\n            {postsArr}\r\n\r\n        </div>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default MyPosts;","import { connect } from \"react-redux\";\r\nimport { Dispatch } from \"redux\";\r\nimport { addPostCreator, PostType } from \"../../../redux/reducers/profile-reducer\";\r\nimport { AppStateType } from \"../../../redux/redux-store\";\r\nimport MyPosts from \"./MyPosts\";\r\n\r\ntype MapStateToPorops = {\r\n    posts: Array<PostType> | [],\r\n};\r\n\r\ntype MapDispatchToProps = {\r\n    addNewPostHandler: (text: string) => void,\r\n};\r\n\r\nexport type MyPostsPropsType = MapStateToPorops & MapDispatchToProps;\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPorops => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch): MapDispatchToProps => {\r\n    return {\r\n        addNewPostHandler: (text: string) => {\r\n            dispatch(addPostCreator(text))\r\n        },\r\n    };\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\n\r\n\r\nexport default MyPostsContainer;","import React, { KeyboardEvent, useEffect, useRef, useState }  from \"react\";\r\nimport classes from \"./profile_status.module.css\";\r\n\r\ntype StatusPropsType = {\r\n    titleStatus: string,\r\n    updateStatus: (status: string) => void,\r\n};\r\n\r\ntype LocalStateType = {\r\n    editMode: boolean,\r\n    status: string,\r\n    updateStatus: (status: string) => void,\r\n};\r\n\r\nconst ProfileStatusFunctional: React.FC<StatusPropsType> = ({titleStatus, updateStatus}) => {\r\n    const [isEditMode, setEditMode] = useState(false);\r\n    const [status, changeStatus] = useState(titleStatus);\r\n    // console.log(status, titleStatus);\r\n    // onEditMode = () => {\r\n    //     this.setState({\r\n    //         editMode: true,\r\n    //     });\r\n    // }\r\n\r\n    useEffect(() => {\r\n        changeStatus(titleStatus);\r\n    }, [titleStatus]);\r\n\r\n    const offEditMode = () => {\r\n        updateStatus(status);\r\n\r\n        setEditMode(false);\r\n    }\r\n\r\n    const offEditModeWithEnter = (e: KeyboardEvent) => {\r\n        if (e.code === 'Enter') {\r\n            setEditMode(false);\r\n        };\r\n    }\r\n\r\n    // componentDidUpdate(prevProps: StatusPropsType, prevState: LocalStateType) {\r\n    //     console.log('yo');\r\n    //     if (prevProps.titleStatus !== this.props.titleStatus) {\r\n    //         this.setState({\r\n    //             status: this.props.titleStatus,\r\n    //         });\r\n    //     };\r\n    // }\r\n\r\n    return (\r\n        <div >\r\n            {\r\n                isEditMode \r\n\r\n                ?\r\n                <div>\r\n                    <input \r\n                        value={status}\r\n                        defaultValue={status}\r\n                        autoFocus\r\n                        onBlur={offEditMode}\r\n                        onKeyPress={e => offEditModeWithEnter(e)}\r\n                        onChange={e => changeStatus(e.target.value)}>\r\n                    </input>\r\n                </div>\r\n\r\n                :\r\n                <div>\r\n                    <span\r\n                        onDoubleClick={() => setEditMode(true)}>\r\n                        {status || 'no status'}\r\n                    </span>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProfileStatusFunctional;","import classes from  './profile.module.css';\r\nimport Avatar from '../avatar';\r\nimport MyPostsContainer from './my-posts/MyPostsContainer';\r\nimport { ProfileUserType } from '../../redux/reducers/profile-reducer';\r\nimport Preloader from '../preloader/Preloader';\r\nimport userPhoto from '../../imgs/images.png';\r\nimport ProfileStatusFunctional from './profile-status/ProfileStatusFunctional';\r\nimport avatar from '../../imgs/my_avatar.jpg';\r\nimport { useRef } from 'react';\r\n\r\nexport type MainUserType = {\r\n  name: string,\r\n  surname: string,\r\n  mainUserAvaUrl: string,\r\n};\r\n\r\nexport type PostsType = {\r\n  text: string,\r\n  likes: number,\r\n  dislikes: number,\r\n  id: string,\r\n};\r\n\r\nexport type ProfilePageType = {\r\n  user: ProfileUserType,\r\n  updateStatus: (status: string) => void,\r\n  putPhoto: (ava: any) => void,\r\n};\r\n\r\n\r\nfunction Profile(props: ProfilePageType) {\r\n  const img = useRef(null);\r\n  //сделать увеличение избрпжения баннера рофиля\r\n    const {user} = props;\r\n\r\n    if (!user) {\r\n      return (\r\n        <Preloader />\r\n      );\r\n    }\r\n    \r\n    // if (!isAuth) return <Redirect to='/login'/>;\r\n    const sendPhoto = () => {\r\n      const ava = 'https://etocsdetka.ru/wp-content/uploads/photo-gallery/Gaydii/Steam/krutie/krutaia-ava-etocsdetka_(1).jpg';\r\n\r\n      props.putPhoto(ava);\r\n    };\r\n\r\n    const onChangeHandler = (e: any) => {\r\n      console.dir(img.current);\r\n    };\r\n\r\n    return (\r\n        <main className={classes.profile}>\r\n        <div className={classes.banner}></div>\r\n          <input type=\"file\" ref={img} onChange={e => onChangeHandler(e)}/>\r\n\r\n          <button>Download</button>\r\n      \r\n\r\n        {/* <button onClick={sendPhoto}>\r\n          Send photo\r\n        </button> */}\r\n\r\n        <div className={classes.account}>\r\n          <Avatar settings={{className: classes.avatar, \r\n                              imgUrl: user.photos.small || \r\n                                      user.photos.large ||\r\n                                      userPhoto}}/>\r\n\r\n          <div className={classes.description}>\r\n\r\n            <span className={classes.username}>\r\n              {`${user.fullName}`}\r\n            </span>\r\n\r\n            <div className={classes.extraInfo}>\r\n              <div className=\"job\">\r\n                <span className=\"lookinAJob\">Looking for a job: </span>\r\n                <span className=\"res\">{user.lookingForAJob ? 'YES' : 'NO'}</span>\r\n              </div>\r\n\r\n              <div className=\"status\">\r\n                <span className=\"city\">Status: </span>\r\n                {/* <ProfileStatus \r\n                            titleStatus={user.status} \r\n                            updateStatus={props.updateStatus}/> */}\r\n                <ProfileStatusFunctional \r\n                                      titleStatus={user.status} \r\n                                      updateStatus={props.updateStatus}/>\r\n              </div>\r\n\r\n              {/* <div className=\"education\">\r\n                <span className=\"eduq\">Education: </span>\r\n                <span className=\"user-eduq\">VNTU IEEAS</span>\r\n              </div> */}\r\n\r\n              <div className=\"wedsite\">\r\n                <span className=\"web\">Contacts: </span>\r\n\r\n                <div className={classes.contactsList}>\r\n                  {Object.entries(user.contacts)\r\n                      .map((el, i) => {\r\n                        return(\r\n                          <a href={el[1] ? el[1] : '#'}\r\n                              key={i}\r\n                              className={el[1] ? classes.linkstyle : classes.disabled}>\r\n                            {el[0]}\r\n                          </a>\r\n                        )\r\n                      })}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <MyPostsContainer />\r\n      </main>\r\n    );\r\n};\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getProfileThunkCreator, updateStatusThunkCreator, getStatusThunkCreator, putProfilePhotoThunkCreator, ProfileDataType, ProfileUserType } from \"../../redux/reducers/profile-reducer\";\r\nimport { AppStateType } from \"../../redux/redux-store\";\r\nimport Profile from \"./Profile\";\r\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\r\nimport { withAuthReadirect } from \"../../hoc/withAuthedirect\";\r\nimport { compose } from \"redux\";\r\n\r\ntype PathParamsType = {\r\n    userId: string,\r\n};\r\n\r\ntype MapStateToProps = {\r\n    user: ProfileUserType,\r\n};\r\n\r\ntype MapDispatchToProps = {\r\n    getProfileThunkCreator: (userId: string) => void,\r\n    updateStatusThunkCreator: (status: string) => void,\r\n    putProfilePhotoThunkCreator: (ava: any) => void;\r\n};\r\n\r\ntype ProfilePropsType = RouteComponentProps<PathParamsType> & OwnProfilePropsType\r\ntype OwnProfilePropsType = MapStateToProps & MapDispatchToProps;\r\n\r\nexport class ProfileRequestContainer extends React.Component<ProfilePropsType, ProfileDataType> {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n\r\n        if (!userId) {\r\n            userId = '19175';\r\n        };\r\n\r\n        this.props.getProfileThunkCreator(userId);\r\n    }\r\n\r\n    render() {\r\n        return <Profile \r\n                    {...this.props} \r\n                    user={this.props.user} \r\n                    updateStatus={this.props.updateStatusThunkCreator}\r\n                    putPhoto={this.props.putProfilePhotoThunkCreator}/>\r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToProps => {\r\n    return {\r\n        user: state.profilePage.user,\r\n    };\r\n};\r\n\r\n//функция compose предоставленна библиотекой redux\r\n//она нужна для того что бы оборачивание в контейнерные обертки не привратилось \r\n//container heel\r\n//она помагает преврвтить вызовы оберток в последовательный вызов функций контейнеров\r\n\r\n//в первый вызов она принимает обертки с самой глубокой на ружу\r\n\r\n//а вторым вызовом передается целевая компонента\r\n\r\nconst ProfileContainer = compose<React.ComponentType>(\r\n                                    connect(mapStateToProps, {  getProfileThunkCreator, \r\n                                                                updateStatusThunkCreator,\r\n                                                                putProfilePhotoThunkCreator }),\r\n                                    withRouter,\r\n                                    withAuthReadirect,\r\n                                )(ProfileRequestContainer);\r\n\r\n// const WithRouterContainerComponent = withRouter(ProfileRequestContainer);\r\n\r\n// const ProfileContainer = withAuthReadirect(connect(mapStateToProps, {getProfileThunkCreator})(WithRouterContainerComponent));\r\n\r\nexport default ProfileContainer;","import { NavLink } from 'react-router-dom';\r\nimport classes from './header.module.css';\r\n\r\ntype PropsType = {\r\n    isAuth: boolean,\r\n    login: string | null,\r\n    logout: () => void,\r\n};\r\n\r\nfunction Header(props: PropsType) {\r\n    return (\r\n    <header className={classes.header}>\r\n        <div className={classes.filter}></div>\r\n\r\n        <img src=\"https://dt2sdf0db8zob.cloudfront.net/wp-content/uploads/2019/08/10-Best-Gaming-Team-Logos-and-How-to-Make-Your-Own-CurrentYear-image17.png\"  \r\n            alt=\"Web Site Logo\"/>\r\n\r\n        <div className={classes.loginBlock}>\r\n            {\r\n                props.isAuth \r\n                ? \r\n                <div>\r\n                    <button onClick={props.logout} style={{marginRight: \"20px\"}}>Logout</button>\r\n\r\n                    {props.login}\r\n                </div>\r\n                : \r\n                <NavLink to={'/login'}>\r\n                    Login\r\n                </NavLink>\r\n            }\r\n        </div>\r\n    </header>);\r\n};\r\n\r\nexport default Header;","import { Dispatch } from \"react\";\r\nimport { stopSubmit } from \"redux-form\";\r\nimport { authAPI, LoginRequestObj } from \"../../api/dal\";\r\nimport { DispatchUsersActionType } from \"../../App\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA',\r\n    SWITCH_IS_LOADING = 'SWITCH_IS_LOADING'; \r\n\r\nexport type AuthStateType = {\r\n    id: string | null,\r\n    email: string | null,\r\n    login: string | null,\r\n    isAuth: boolean,\r\n    isLoading: boolean,\r\n};\r\n\r\ntype TestDispatchType = {\r\n    dispatch: (dispatch: Dispatch<DispatchUsersActionType>) => void\r\n};\r\n\r\nexport type DataObjectType = {\r\n    data: AuthStateType,\r\n};\r\n\r\nexport type ActionType = {\r\n    type: string,\r\n    data?: AuthStateType,\r\n} & {\r\n    type: string,\r\n    isLoading: boolean,\r\n};\r\n\r\nconst initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    isLoading: false,\r\n};\r\n\r\nexport const authReducer = (state: AuthStateType = initialState, action: ActionType): AuthStateType => {\r\n    switch (action.type){\r\n        case SET_USER_DATA:\r\n            return {\r\n                    ...state,\r\n                    ...action.data,\r\n                };\r\n\r\n        case SWITCH_IS_LOADING:\r\n            return {\r\n                    ...state,\r\n                    isLoading: action.isLoading,\r\n                };\r\n\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\nexport const setUserAuthDataActionCreator = (data: AuthStateType) => ({type: SET_USER_DATA, data});\r\nexport const switchIsLoadingActionCreator = (isLoading: boolean) => ({type: SWITCH_IS_LOADING, isLoading});\r\n\r\nexport const getUserAuthDataThunkCreator = () => {\r\n    return (dispatch: Dispatch<DispatchUsersActionType>) => {\r\n        return authAPI.getAuthData()\r\n                        .then(data => {\r\n                            if (data.resultCode === 0){\r\n                                dispatch(setUserAuthDataActionCreator({...data.data, isAuth: true}));\r\n                            }\r\n                        })\r\n    };\r\n};\r\n\r\nexport const loginThunkCreator = (userData: LoginRequestObj) => {\r\n    return (dispatch: Dispatch<any>) => {\r\n        dispatch(switchIsLoadingActionCreator(true));\r\n        //свойство _error вызывает общую ошыбку фомы\r\n        //это нужно для того чтобы вызвать аварийную ошыбку\r\n        //при не правильном вводе пароля или мыла\r\n\r\n        //стандартная валидация форм не срабатывает\r\n        //из-за тго что ответ приходит асинхронно\r\n\r\n        //по этому мы вызываем метод stopSubmit при отличном от 0\r\n        //резаст коде\r\n        //это метод библиотеки редакс чтобы остановить сабмит\r\n        authAPI.login({...userData})\r\n            .then(data => {\r\n                dispatch(switchIsLoadingActionCreator(false));\r\n\r\n                if (data.data.resultCode === 0){\r\n                    dispatch(getUserAuthDataThunkCreator());\r\n                }else{\r\n                    const message = data.data.messages.length > 0 && data.data.messages[0];\r\n\r\n                    dispatch(stopSubmit('login', { _error: message}));\r\n                }\r\n            })\r\n    };\r\n};\r\n\r\nexport const logoutThunkCreator = () => {\r\n    return (dispatch: Dispatch<DispatchUsersActionType>) => {\r\n        authAPI.logout()\r\n            .then(resultCode => {\r\n                if (resultCode === 0){\r\n                    dispatch(setUserAuthDataActionCreator({\r\n                                                            email: null, \r\n                                                            id: null, \r\n                                                            login: null, \r\n                                                            isAuth: false,\r\n                                                            isLoading: false,\r\n                                                        }));\r\n                }\r\n            })\r\n    };\r\n};","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Header from \"./Header\";\r\nimport {AuthStateType, DataObjectType, logoutThunkCreator} from \"../../redux/reducers/auth-reducer\";\r\nimport { AppStateType } from \"../../redux/redux-store\";\r\n\r\ntype MapStateToProps = {\r\n    data: AuthStateType,\r\n};\r\n\r\ntype MapDispatchPropsType = {\r\n    logoutThunkCreator: () => void,\r\n};\r\n\r\ntype AuthPropsType = MapStateToProps & MapDispatchPropsType;\r\n\r\n\r\nclass HeaderResponceContainer extends React.Component<AuthPropsType, DataObjectType> {\r\n    render (){\r\n        return <Header {...{    \r\n                            isAuth: this.props.data.isAuth, \r\n                            login: this.props.data.login,\r\n                            logout: this.props.logoutThunkCreator\r\n                        }}/>\r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToProps => {\r\n    return {\r\n        data: state.auth\r\n    }\r\n};\r\n\r\nexport const HeaderContainer = connect(mapStateToProps, {\r\n                                                            logoutThunkCreator,\r\n                                                        })(HeaderResponceContainer);","import React from \"react\";\r\nimport classes from \"./login_form.module.css\";\r\nimport { Field, reduxForm, InjectedFormProps } from 'redux-form';\r\n\r\nexport type LoginFormFieldsType = {\r\n    email: string,\r\n    password: string,\r\n    rememberMe: boolean,\r\n};\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<LoginFormFieldsType>> = (props) => {\r\n    return (\r\n        <form \r\n            onSubmit={props.handleSubmit}\r\n            className={classes.formWrap}>\r\n                <Field component=\"input\" name=\"email\" placeholder='Email' autoComplete='on'/>\r\n\r\n                <Field component=\"input\" name=\"password\" placeholder='Password' autoComplete='on'/>\r\n\r\n                <div>                        \r\n                    <label htmlFor=\"remember\">Remember me</label>\r\n\r\n                    <Field component=\"input\" type=\"checkbox\" name=\"rememberMe\" id=\"remember\"/>\r\n                </div>\r\n\r\n                { props.error && <div className={classes.errorMessage}>\r\n                                    {props.error}\r\n                                </div>}\r\n\r\n                <button>\r\n                    Send\r\n                </button>\r\n        </form>\r\n    );\r\n};\r\n\r\n//reduxForm это хок который возвращает контейнерную компоненту\r\n//в первом вызове мы передаем имя поля с данными формы\r\n\r\n//вторым нашу компоненту с формой\r\n\r\n//при вызове, контейнерная компонента соберет все данные с полей Field \r\n//и запустит функцыю handleSubmit которую передает в нащу компоненту в propsах\r\n//в качестве обработчика на соьытие onSubmit\r\n\r\n//в контейнерную компоненту нужно передать функцию onSubmit \r\n//для того чтобы реагировать насобитие из вне\r\n//он первым аргументом пронимает объект с данными формы\r\nconst LoginReduxForm = reduxForm<LoginFormFieldsType>({form: 'login'})(LoginForm);\r\n\r\nexport default LoginReduxForm;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport { loginThunkCreator } from \"../../redux/reducers/auth-reducer\";\r\nimport { AppStateType } from \"../../redux/redux-store\";\r\nimport Preloader from \"../preloader/Preloader\";\r\nimport LoginReduxForm, { LoginFormFieldsType } from \"./login-form/LoginForm\";\r\n\r\ntype MapDispatchToPropsType = {\r\n    loginThunkCreator: (formData: LoginFormFieldsType) => void,\r\n};\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean,\r\n    isLoading: boolean,\r\n};\r\n\r\ntype PropsType = MapDispatchToPropsType & MapStateToPropsType;\r\n\r\nfunction LoginComponent(props: PropsType) {\r\n    const onSubmit = (formData: LoginFormFieldsType) => {\r\n        props.loginThunkCreator(formData);\r\n    };\r\n\r\n    if (props.isAuth){\r\n        return <Redirect to='/profile'/>\r\n    }\r\n\r\n    if (props.isLoading){\r\n        return <Preloader />\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <h1>\r\n                LOGIN\r\n            </h1>\r\n\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        isLoading: state.auth.isLoading,\r\n    };\r\n};\r\n\r\nconst Login = connect(mapStateToProps, {loginThunkCreator})(LoginComponent);\r\n\r\nexport default Login;","import { Dispatch } from \"react\";\r\nimport { DispatchUsersActionType, MapDispatchPropsType } from \"../../App\";\r\nimport { getUserAuthDataThunkCreator } from \"./auth-reducer\";\r\n\r\nenum ActionsType {\r\n    SET_INITIALIZED = 'SET_INITIALIZED',\r\n};\r\n\r\nexport type AppReducerStateType = {\r\n    initialized: boolean,\r\n};\r\n\r\nconst initialState: AppReducerStateType = {\r\n    initialized: false,\r\n};\r\n\r\nexport function appReducer (state: AppReducerStateType = initialState, action: AppActionCreatorsType): AppReducerStateType{\r\n    switch(action.type){\r\n        case ActionsType.SET_INITIALIZED: {\r\n            return {\r\n                ...state,\r\n                initialized: action.payload,\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializeAppAC = (iniinitialize: boolean) => {\r\n    return {type: ActionsType.SET_INITIALIZED, payload: iniinitialize}\r\n};\r\n\r\nexport const initializeAppTC = () => (dispatch: Dispatch<InitType | AppActionCreatorsType>) => {\r\n    //нужно избегать дальнейшец работы с dispatch\r\n    //но иногда это нужно\r\n    //dispatch возвращает то что возвращает функция переданая в него\r\n    //этим можно воспользываться\r\n    const promise: any = dispatch(getUserAuthDataThunkCreator());\r\n\r\n    Promise.all([promise])\r\n            .then(() => dispatch(initializeAppAC(true)));\r\n};\r\n\r\ntype InitType = ReturnType<typeof getUserAuthDataThunkCreator>\r\n\r\ntype AppActionCreatorsType = ReturnType<typeof initializeAppAC>;","import './App.css';\nimport {Route} from 'react-router-dom';\n\nimport DialogsContainer from './components/dialogs/DialogsContainer';\nimport Music from './components/musik';\nimport Navbar from './components/navbar';\n// import Profile from './components/profile';\nimport Settings from './components/settings';\nimport News from './components/news';\nimport { withRouter } from 'react-router-dom';\n\n// import store from './redux/redux-store';\n// import { MainUserType, PostsType } from './components/profile/Profile';\n// import { DialogsPageType, DialogsUsersType, TestMessageType } from './redux/types';\n// import { NavType } from './components/navbar/Navbar';\n// import { UserObjType } from './redux/reducers/uders-reducer';\nimport UsersContainer from './components/users/UsersContainer';\nimport { UserType } from './redux/reducers/users-reducer';\nimport ProfileContainer from './components/profile/ProfileContainer';\nimport { ProfileUserType } from './redux/reducers/profile-reducer';\nimport { HeaderContainer } from './components/header/HeaderComponent';\nimport Login from './components/login/Login';\nimport React, { ComponentType } from 'react';\nimport { AppReducerStateType, initializeAppTC } from './redux/reducers/app-reducer';\nimport { getUserAuthDataThunkCreator } from './redux/reducers/auth-reducer';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { AppStateType } from './redux/redux-store';\nimport Preloader from './components/preloader/Preloader';\n  \nexport type DispatchActionPropsType = {\n  type: string,\n  message?: string,\n  id?: string,\n  observerFunc?: () => void,\n};\n\nexport type DispatchUsersActionType = {\n  type: string,\n  userId?: number,\n  users?: Array<UserType>,\n  currenPage?: number,\n  totalUsersCount?: number,\n  isFetching?: boolean,\n  isFollowing?: boolean,\n};\n\n// export type DialoglsDataType = {\n//   messages: Array<MessageType>,\n//   newMessageText: string,\n//   users: Array <UsersType>,\n// };\n// type AppPropsType = {\n//   state: {\n//     profilePage: ProfileDataType,\n//     dialogsPage: DialogsPageType,\n//     navBar: NavType,\n//   },\n  \n//   getState: () => {\n//     profilePage: ProfileDataType,\n//     dialogsPage: DialogsPageType,\n//     navBar: NavType,\n//   },\n\n//   dispatch: (action: DispatchActionPropsType) => void;\n// }\n\n// {...dialogsPage}\n// dispatch={dispatch}\nexport type MapDispatchPropsType = {\n  initializeAppTC: () => void,\n};\n\nclass App extends React.Component<MapDispatchPropsType & AppReducerStateType> {\n  componentDidMount() {\n    this.props.initializeAppTC();\n  }\n\n  render (){\n    if (this.props.initialized){\n        return (\n          <div id='app' className='app-wrapper'>\n            <HeaderContainer/>\n            <Navbar />\n\n            <div className=\"main-content\">\n              <Route path=\"/dialogs\" render={() => <DialogsContainer/>}/>\n              <Route path=\"/news\" component={News}/>\n              <Route path=\"/settimgs\" component={Settings}/>\n              {/* userId мы используем этот параметр для того чтобы система реакта\n              сама прочитала его в адресной строке и withRouter закинул в пропсы компоненты\n              нужный нам id \n              знак вопроса означаеть что параметр не обязателен\n              чтобы мы могли отображать профайл с пустым id\n              если там пусто то в объекте withRouter-a наш параметр будет underfined\n              к этому нужно быть готовым*/}\n              <Route path=\"/profile/:userId?\" render={() => <ProfileContainer />}/>\n              <Route path=\"/music\" component={Music}/>\n              <Route path=\"/users\" render={() => <UsersContainer />}/>\n              <Route path='/login' component={Login} />\n          </div>\n        </div>\n      );\n    };\n\n    return <Preloader />;\n  }\n};\n\nconst mapStateToProps = (state: AppStateType): AppReducerStateType => ({\n  initialized: state.app.initialized,\n});  \n//для нормальной работы роутов в нутри App\n//результат connecta нужно обернуть в withRouter\n//это какойто странный баг или особенность\n\n//при работе с TypeScript в дженерик нужно пихать ComponentType из реакта\n//иначе будет падать дурацкая ошибка\nexport default compose<ComponentType>(\n  withRouter,\n  connect(mapStateToProps, {initializeAppTC})\n)(App);\n\n\n","import { DispatchActionPropsType } from '../../App';\r\nimport { FriendsCardsType } from '../../components/navbar/Navbar';\r\n\r\ntype NavLinkType = {\r\n  href: string,\r\n  description: string, \r\n};\r\n\r\nexport type NavBarType = {\r\n    links: Array<NavLinkType>,\r\n    friendsArr: Array<FriendsCardsType>,\r\n  };\r\n\r\nconst initialState =  {\r\n  links: [\r\n    {href: '/users', description: 'Users'},\r\n    {href: '/dialogs', description: 'Dialogs'},\r\n    {href: '/news', description: 'News'},\r\n    {href: '/settimgs', description: 'Settings'},\r\n    {href: '/profile', description: 'Profile'},\r\n    {href: '/music', description: 'Music'},\r\n  ],\r\n  friendsArr: [\r\n    { avatar: 'http://s020.radikal.ru/i706/1501/36/75ac2f1e2bca.jpg', \r\n      name: 'Vasya', \r\n      href: '/vasya',\r\n    },\r\n\r\n    { avatar: 'http://avatar-lotos.at.ua/_si/0/90042470.jpg',\r\n      name: 'Masha',\r\n      href: '/masha',\r\n    },\r\n\r\n    { avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSIzgUvXLnRImezj5_MMmqHF3aJHbp4vq86Yw&usqp=CAU', \r\n      name: 'Vietal', \r\n      href: '/vietal',\r\n    },\r\n\r\n    { avatar: 'https://www.meme-arsenal.com/memes/cc345be87cc4ebce0eac0f9d662358db.jpg', \r\n      name: 'Sonya',\r\n      href: '/sonya',\r\n    },\r\n\r\n    { avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTPeoq1yV8_WeZRPOy6tvqvBdbl6SAOgNXeWA&usqp=CAU', \r\n      name: 'Lena', \r\n      href: '/lena',\r\n    },\r\n  ],\r\n}\r\n\r\nexport const navbarReducer = (state: NavBarType = initialState, action: DispatchActionPropsType) => {\r\n\r\n    return state;\r\n};","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport { profileReducer } from './reducers/profile-reducer';\r\nimport { dialogsReducer } from './reducers/dialogs-reducer';\r\nimport { navbarReducer } from './reducers/navbar-reducer';\r\nimport { usersReducer } from './reducers/users-reducer';\r\nimport { authReducer } from './reducers/auth-reducer';\r\n//подключаем formReducer из спец библиотеки redux для работы с формами\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport  thunk from 'redux-thunk';\r\nimport { appReducer } from './reducers/app-reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    navBar: navbarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    // поле для спец редюсера для форм\r\n    //должно быть именно form\r\n    form: formReducer,\r\n});\r\n\r\n//applyMiddleware это фуукция котрая помагает внедрять в наш конвеер информции\r\n//промежуточные слои как например санки\r\n//но это не сами санки а только слой\r\n//санки мы сами создаем\r\nconst store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>;\r\n\r\nexport default store;\r\n\r\n//@ts-ignore\r\nwindow.store = store;","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from './redux/redux-store';\n\nimport { BrowserRouter } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\n// import { DialogsPageType } from './redux/types';\n// import { NavType } from './components/navbar/Navbar';\nimport { Provider } from 'react-redux';\n\n// export type EntireTreePropsType = {\n//   state: {\n//     profilePage: ProfileDataType,\n//     dialogsPage: DialogsPageType,\n//     navBar: NavType,\n//   },\n// };\n\n// state={store.getState()} getState={store.getState} dispatch={store.dispatch.bind(store)}\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter>\n        <Provider store={store}>\n          <App />\n        </Provider> \n      </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationBlock\":\"users_paginationBlock__GVnEY\",\"puginationNumStyle\":\"users_puginationNumStyle__3TL98\",\"currentPage\":\"users_currentPage__26rcT\",\"userWrap\":\"users_userWrap__1nUCo\",\"followBtnStyle\":\"users_followBtnStyle__1iXul\",\"followanim\":\"users_followanim__1VmKn\",\"unfollowBtnStyle\":\"users_unfollowBtnStyle__347z5\",\"unfollowanim\":\"users_unfollowanim__2Ccop\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"new_message_panel\":\"send_message_form_new_message_panel__RqKx0\",\"messageFieald\":\"send_message_form_messageFieald__1VA0w\",\"send_message_button\":\"send_message_form_send_message_button__3hLBk\",\"send_message_button_on_click\":\"send_message_form_send_message_button_on_click__Tly-0\",\"send_arrow_animation\":\"send_message_form_send_arrow_animation__36kQv\",\"send_button_gag\":\"send_message_form_send_button_gag__3oy86\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs_wrap\":\"dialogs_dialogs_wrap__2dznS\",\"dialogs_header\":\"dialogs_dialogs_header__X2bVV\",\"dialogs_nav\":\"dialogs_dialogs_nav__3zb4Y\",\"dialogs_conversation_outside_box\":\"dialogs_dialogs_conversation_outside_box__2XXX9\",\"dialogs_conversation\":\"dialogs_dialogs_conversation__1aSAs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users_list\":\"dialogs_nav_users_list__2OmSJ\",\"each_user_li\":\"dialogs_nav_each_user_li__24OnI\",\"active_conv\":\"dialogs_nav_active_conv__1EM7D\",\"status_indicator\":\"dialogs_nav_status_indicator__2yf3S\",\"indicator_lamp\":\"dialogs_nav_indicator_lamp__h9Jp5\",\"indicator_text\":\"dialogs_nav_indicator_text__2v4HI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message_user_wrap\":\"message_message_user_wrap__380f3\",\"message_guest_wrap\":\"message_message_guest_wrap__3OkDu\",\"messaage_avatar\":\"message_messaage_avatar__1oPG4\",\"message_txt\":\"message_message_txt__Xt6Q7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends_block\":\"friends_nav_friends_block__1BCdo\",\"friend_avatar_box\":\"friends_nav_friend_avatar_box__1hlQc\",\"hover_animation\":\"friends_nav_hover_animation__3Xe0C\",\"friend_avatar\":\"friends_nav_friend_avatar__1KQKz\",\"all_friends_link\":\"friends_nav_all_friends_link__27rMa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myposts\":\"myposts_myposts__1Subu\",\"header\":\"myposts_header__2yl0W\",\"posts_block\":\"myposts_posts_block__3Ul4S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"header_filter__SIeQF\",\"loginBlock\":\"header_loginBlock__3VfMA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"avatar_avatar__22iWD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textareaWrap\":\"textarea_textareaWrap__GzcFv\",\"error\":\"textarea_error___XthW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main_nav_bar\":\"navbar_main_nav_bar__2GMo-\",\"ul_nav_bar\":\"navbar_ul_nav_bar__2yDrM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formWrap\":\"login_form_formWrap__ykgV5\",\"errorMessage\":\"login_form_errorMessage__3fwRk\"};"],"sourceRoot":""}